{
  "info": {
    "_postman_id": "67cf1092-3e6a-4529-b83a-7cf1e2ff8a7f",
    "name": "globals+env+data tests",
    "description": "A set of tests for global and data variable operations",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "GET",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "126f5f8f-4218-4d01-a931-4a0ec74e8e37",
            "exec": [
              "pm.test(\"Content-Type is present\", function () {",
              "    pm.response.to.have.header(\"Content-Type\");",
              "});",
              "",
              "var data1 = JSON.parse(responseBody);",
              "",
              "pm.test(\"testGlobalSetFromPRScript\", function () {",
              "    pm.expect(data1.args.prsG).to.eql(\"prsG\");",
              "});",
              "",
              "pm.test(\"Read global var correctly\", function () {",
              "    pm.expect(globals.prsG).to.eql(\"prsG\");",
              "});",
              "",
              "pm.test(\"testEnvSetFromPRScript\", function () {",
              "    pm.expect(data1.args.prsE).to.eql(\"prsE\");",
              "});",
              "",
              "pm.test(\"Read env var correctly\", function () {",
              "    pm.expect(environment.prsE).to.eql(\"prsE\");",
              "});",
              "",
              "pm.test(\"Read data var correctly\", function () {",
              "    pm.expect(data.dataVar).to.eql(\"dataValue\");",
              "});",
              "",
              "pm.globals.set(\"prsG\", \"prsG1\");",
              "pm.environment.set(\"prsE\", \"prsE1\");",
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "0f308169-1ab0-4744-866b-80524798fc0f",
            "exec": [
              "pm.globals.set(\"prsG\", \"prsG\");",
              "pm.globals.set(\"prsE\", \"prsEaRDDDROR\");",
              "pm.environment.set(\"prsE\", \"prsE\");",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{url}}/get?global={{global}}&env={{env}}&data={{data}}&prsE={{prsE}}&prsG={{prsG}}",
          "host": [
            "{{url}}"
          ],
          "path": [
            "get"
          ],
          "query": [
            {
              "key": "global",
              "value": "{{global}}"
            },
            {
              "key": "env",
              "value": "{{env}}"
            },
            {
              "key": "data",
              "value": "{{data}}"
            },
            {
              "key": "prsE",
              "value": "{{prsE}}"
            },
            {
              "key": "prsG",
              "value": "{{prsG}}"
            }
          ]
        },
        "description": "Similar to postman-echo.com/get. Return GET data."
      },
      "response": []
    },
    {
      "name": "GET copy",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "04e16035-0b98-4146-bac8-cce7db821926",
            "exec": [
              "var data1 = JSON.parse(responseBody);",
              "",
              "pm.test(\"Read global var correctly\", function () {",
              "    pm.expect(globals.prsG).to.eql(\"prsG1\");",
              "});",
              "",
              "pm.test(\"Read env var correctly\", function () {",
              "    pm.expect(environment.prsE).to.eql(\"prsE1\");",
              "});",
              "",
              "pm.test(\"Read data var correctly\", function () {",
              "    pm.expect(data.dataVar).to.eql(\"dataValue\");",
              "});",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{url}}/get?global={{global}}&env={{env}}&data={{data}}",
          "host": [
            "{{url}}"
          ],
          "path": [
            "get"
          ],
          "query": [
            {
              "key": "global",
              "value": "{{global}}"
            },
            {
              "key": "env",
              "value": "{{env}}"
            },
            {
              "key": "data",
              "value": "{{data}}"
            }
          ]
        },
        "description": "Similar to postman-echo.com/get. Return GET data."
      },
      "response": []
    }
  ],
  "protocolProfileBehavior": {}
}
